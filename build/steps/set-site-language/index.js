(()=>{"use strict";const e=window.wp.i18n,n=window.wp.blocks,t=window.wp.primitives,l=window.ReactJSXRuntime,i=(0,l.jsx)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,l.jsx)(t.Path,{d:"M17.5 10h-1.7l-3.7 10.5h1.7l.9-2.6h3.9l.9 2.6h1.7L17.5 10zm-2.2 6.3 1.4-4 1.4 4h-2.8zm-4.8-3.8c1.6-1.8 2.9-3.6 3.7-5.7H16V5.2h-5.8V3H8.8v2.2H3v1.5h9.6c-.7 1.6-1.8 3.1-3.1 4.6C8.6 10.2 7.8 9 7.2 8H5.6c.6 1.4 1.7 2.9 2.9 4.4l-2.4 2.4c-.3.4-.7.8-1.1 1.2l1 1 1.2-1.2c.8-.8 1.6-1.5 2.3-2.3.8.9 1.7 1.7 2.5 2.5l.6-1.5c-.7-.6-1.4-1.3-2.1-2z"})}),a=window.wp.blockEditor,r=window.wp.components,o=window.wp.element,s=(0,o.createContext)({fields:[]});function d({fields:e,children:n}){return(0,l.jsx)(s.Provider,{value:{fields:e},children:n})}const u=s,c=window.wp.url;function f({item:e,field:n}){const t=n.getValue({item:e});return n?.elements?.find((e=>e.value===t))?.label||n.getValue({item:e})}t.SVG,t.Path,t.SVG,t.Path;const m="is",p="isNot",_="isAny",g="isNone",h="isAll",b="isNotAll",x="lessThan",v="greaterThan",y="lessThanOrEqual",C="greaterThanOrEqual",j="before",V="after",w="beforeInc",S="afterInc",N="contains",B="notContains",k="startsWith",L="between",O="on",F="notOn",D="inThePast",E="over",P=[m,p,_,g,h,b,x,v,y,C,j,V,w,S,N,B,k,L,O,F,D,E],H=[m,p,x,v,y,C,j,V,w,S,N,B,k,O,F];(0,e.__)("Is"),(0,e.__)("Is not"),(0,e.__)("Is any"),(0,e.__)("Is none"),(0,e.__)("Is all"),(0,e.__)("Is not all"),(0,e.__)("Less than"),(0,e.__)("Greater than"),(0,e.__)("Less than or equal"),(0,e.__)("Greater than or equal"),(0,e.__)("Before"),(0,e.__)("After"),(0,e.__)("Before (inc)"),(0,e.__)("After (inc)"),(0,e.__)("Contains"),(0,e.__)("Doesn't contain"),(0,e.__)("Starts with"),(0,e.__)("Between (inc)"),(0,e.__)("On"),(0,e.__)("Not on"),(0,e.__)("In the past"),(0,e.__)("Over"),(0,e.__)("Sort ascending"),(0,e.__)("Sort descending");const T={sort:function(e,n,t){return"asc"===t?e.localeCompare(n):n.localeCompare(e)},isValid:function(e,n){if(""===e)return!1;if(!(0,c.isEmail)(e))return!1;if(n?.elements){const t=n?.elements?.map((e=>e.value));if(!t.includes(e))return!1}return!0},Edit:"email",render:({item:e,field:n})=>n.elements?f({item:e,field:n}):n.getValue({item:e}),enableSorting:!0,filterBy:{defaultOperators:[_,g],validOperators:[m,p,N,B,k,_,g,h,b]}},A={sort:function(e,n,t){return"asc"===t?e-n:n-e},isValid:function(e,n){if(""===e)return!1;if(!Number.isInteger(Number(e)))return!1;if(n?.elements){const t=n?.elements.map((e=>e.value));if(!t.includes(Number(e)))return!1}return!0},Edit:"integer",render:({item:e,field:n})=>n.elements?f({item:e,field:n}):n.getValue({item:e}),enableSorting:!0,filterBy:{defaultOperators:[m,p,x,v,y,C,L],validOperators:[m,p,x,v,y,C,L,_,g,h,b]}},M={sort:function(e,n,t){return"asc"===t?e.localeCompare(n):n.localeCompare(e)},isValid:function(e,n){if(n?.elements){const t=n?.elements?.map((e=>e.value));if(!t.includes(e))return!1}return!0},Edit:"text",render:({item:e,field:n})=>n.elements?f({item:e,field:n}):n.getValue({item:e}),enableSorting:!0,filterBy:{defaultOperators:[_,g],validOperators:[m,p,N,B,k,_,g,h,b]}},z={sort:function(e,n,t){const l=new Date(e).getTime(),i=new Date(n).getTime();return"asc"===t?l-i:i-l},isValid:function(e,n){if(n?.elements){const t=n?.elements.map((e=>e.value));if(!t.includes(e))return!1}return!0},Edit:"datetime",render:({item:e,field:n})=>n.elements?f({item:e,field:n}):n.getValue({item:e}),enableSorting:!0,filterBy:{defaultOperators:[O,F,j,V,w,S,D,E],validOperators:[O,F,j,V,w,S,D,E]}},I=window.wp.date,G={sort:function(e,n,t){const l=new Date(e).getTime(),i=new Date(n).getTime();return"asc"===t?l-i:i-l},isValid:function(e,n){if(n?.elements){const t=n?.elements.map((e=>e.value));if(!t.includes(e))return!1}return!0},Edit:null,render:({item:e,field:n})=>{if(n.elements)return f({item:e,field:n});const t=n.getValue({item:e});return t?(l=t,(0,I.dateI18n)((0,I.getSettings)().formats.date,(0,I.getDate)(l))):"";var l},enableSorting:!0,filterBy:!1},U={sort:function(e,n,t){const l=Boolean(e);return l===Boolean(n)?0:"asc"===t?l?1:-1:l?-1:1},isValid:function(e){return!![!0,!1,void 0].includes(e)},Edit:"boolean",render:({item:n,field:t})=>t.elements?f({item:n,field:t}):!0===t.getValue({item:n})?(0,e.__)("True"):!1===t.getValue({item:n})?(0,e.__)("False"):null,enableSorting:!0,filterBy:{defaultOperators:[m,p],validOperators:[m,p]}},q={sort:function(){return 0},isValid:function(e,n){if(n?.elements){const t=n?.elements.map((e=>e.value));if(!t.includes(e))return!1}return!0},Edit:null,render:()=>null,enableSorting:!1,filterBy:!1},W={sort:function(e,n,t){const l=Array.isArray(e)?e:[],i=Array.isArray(n)?n:[];if(l.length!==i.length)return"asc"===t?l.length-i.length:i.length-l.length;const a=l.join(","),r=i.join(",");return"asc"===t?a.localeCompare(r):r.localeCompare(a)},isValid:function(e,n){if(!Array.isArray(e))return!1;if(!e.every((e=>"string"==typeof e)))return!1;if(n?.elements){const t=n.elements.map((e=>e.value));if(!e.every((e=>t.includes(e))))return!1}return!0},Edit:null,render:function({item:e,field:n}){return(n.getValue({item:e})||[]).join(", ")},enableSorting:!0,filterBy:{defaultOperators:[_,g],validOperators:[_,g,h,b]}},R={[D]:[{value:"days",label:(0,e.__)("Days")},{value:"weeks",label:(0,e.__)("Weeks")},{value:"months",label:(0,e.__)("Months")},{value:"years",label:(0,e.__)("Years")}],[E]:[{value:"days",label:(0,e.__)("Days ago")},{value:"weeks",label:(0,e.__)("Weeks ago")},{value:"months",label:(0,e.__)("Months ago")},{value:"years",label:(0,e.__)("Years ago")}]};function $({id:n,value:t,onChange:i,label:a,hideLabelFromVision:s,options:d}){const{value:u="",unit:c=d[0].value}=t,f=(0,o.useCallback)((e=>i({[n]:{value:Number(e),unit:c}})),[n,i,c]),m=(0,o.useCallback)((e=>i({[n]:{value:u,unit:e}})),[n,i,u]);return(0,l.jsx)(r.BaseControl,{id:n,__nextHasNoMarginBottom:!0,className:"dataviews-controls__datetime",label:a,hideLabelFromVision:s,children:(0,l.jsxs)(r.__experimentalHStack,{spacing:2.5,children:[(0,l.jsx)(r.__experimentalNumberControl,{__next40pxDefaultSize:!0,className:"dataviews-controls__datetime-number",spinControls:"none",min:1,step:1,value:u,onChange:f}),(0,l.jsx)(r.SelectControl,{className:"dataviews-controls__datetime-unit",__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:(0,e.__)("Unit"),value:c,options:d,onChange:m,hideLabelFromVision:!0})]})})}function J({id:n,value:t,onChange:i,hideLabelFromVision:a}){const[s="",d=""]=Array.isArray(t)?t:[],u=(0,o.useCallback)((e=>i({[n]:[Number(e),d]})),[n,i,d]),c=(0,o.useCallback)((e=>i({[n]:[s,Number(e)]})),[n,i,s]);return(0,l.jsx)(r.BaseControl,{__nextHasNoMarginBottom:!0,help:(0,e.__)("The max. value must be greater than the min. value."),children:(0,l.jsxs)(r.Flex,{direction:"row",gap:4,children:[(0,l.jsx)(r.__experimentalNumberControl,{label:(0,e.__)("Min."),value:s,max:d?Number(d)-1:void 0,onChange:u,__next40pxDefaultSize:!0,hideLabelFromVision:a}),(0,l.jsx)(r.__experimentalNumberControl,{label:(0,e.__)("Max."),value:d,min:s?Number(s)+1:void 0,onChange:c,__next40pxDefaultSize:!0,hideLabelFromVision:a})]})})}const Y={boolean:function({field:e,onChange:n,data:t,hideLabelFromVision:i}){const{id:a,getValue:o,label:s}=e;return(0,l.jsx)(r.ToggleControl,{hidden:i,__nextHasNoMarginBottom:!0,label:s,checked:o({item:t}),onChange:()=>n({[a]:!o({item:t})})})},checkbox:function({field:e,onChange:n,data:t,hideLabelFromVision:i}){const{id:a,getValue:o,label:s,description:d}=e;return(0,l.jsx)(r.CheckboxControl,{__nextHasNoMarginBottom:!0,hidden:i,label:s,help:d,checked:o({item:t}),onChange:()=>n({[a]:!o({item:t})})})},datetime:function({data:e,field:n,onChange:t,hideLabelFromVision:i,operator:a}){const{id:s,label:d}=n,u=n.getValue({item:e}),c=(0,o.useCallback)((e=>t({[s]:e})),[s,t]);return a===D||a===E?(0,l.jsx)($,{id:s,value:u&&"object"==typeof u?u:{},onChange:t,label:d,hideLabelFromVision:i,options:R[a]}):(0,l.jsxs)("fieldset",{className:"dataviews-controls__datetime",children:[!i&&(0,l.jsx)(r.BaseControl.VisualLabel,{as:"legend",children:d}),i&&(0,l.jsx)(r.VisuallyHidden,{as:"legend",children:d}),(0,l.jsx)(r.TimePicker,{currentTime:"string"==typeof u?u:void 0,onChange:c,hideLabelFromVision:!0})]})},email:function({data:e,field:n,onChange:t,hideLabelFromVision:i}){const{id:a,label:s,placeholder:d,description:u}=n,c=n.getValue({item:e}),f=(0,o.useCallback)((e=>t({[a]:e})),[a,t]);return(0,l.jsx)(r.TextControl,{type:"email",label:s,placeholder:d,value:null!=c?c:"",help:u,onChange:f,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,hideLabelFromVision:i})},integer:function({data:e,field:n,onChange:t,hideLabelFromVision:i,operator:a}){var s;const{id:d,label:u,description:c}=n,f=null!==(s=n.getValue({item:e}))&&void 0!==s?s:"",m=(0,o.useCallback)((e=>t({[d]:Number(e)})),[d,t]);return a===L?(0,l.jsx)(J,{id:d,value:f,onChange:t,hideLabelFromVision:i}):(0,l.jsx)(r.__experimentalNumberControl,{label:u,help:c,value:f,onChange:m,__next40pxDefaultSize:!0,hideLabelFromVision:i})},radio:function({data:e,field:n,onChange:t,hideLabelFromVision:i}){const{id:a,label:s}=n,d=n.getValue({item:e}),u=(0,o.useCallback)((e=>t({[a]:e})),[a,t]);return n.elements?(0,l.jsx)(r.RadioControl,{label:s,onChange:u,options:n.elements,selected:d,hideLabelFromVision:i}):null},select:function({data:n,field:t,onChange:i,hideLabelFromVision:a}){var s,d;const{id:u,label:c}=t,f=null!==(s=t.getValue({item:n}))&&void 0!==s?s:"",m=(0,o.useCallback)((e=>i({[u]:e})),[u,i]),p=[{label:(0,e.__)("Select item"),value:""},...null!==(d=t?.elements)&&void 0!==d?d:[]];return(0,l.jsx)(r.SelectControl,{label:c,value:f,help:t.description,options:p,onChange:m,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,hideLabelFromVision:a})},text:function({data:e,field:n,onChange:t,hideLabelFromVision:i}){const{id:a,label:s,placeholder:d,description:u}=n,c=n.getValue({item:e}),f=(0,o.useCallback)((e=>t({[a]:e})),[a,t]);return(0,l.jsx)(r.TextControl,{label:s,placeholder:d,value:null!=c?c:"",help:u,onChange:f,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,hideLabelFromVision:i})},toggleGroup:function({data:e,field:n,onChange:t,hideLabelFromVision:i}){const{id:a}=n,s=n.getValue({item:e}),d=(0,o.useCallback)((e=>t({[a]:e})),[a,t]);if(n.elements){const e=n.elements.find((e=>e.value===s));return(0,l.jsx)(r.__experimentalToggleGroupControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,isBlock:!0,label:n.label,help:e?.description||n.description,onChange:d,value:s,hideLabelFromVision:i,children:n.elements.map((e=>(0,l.jsx)(r.__experimentalToggleGroupControlOption,{label:e.label,value:e.value},e.value)))})}return null}};function X(e){if(Object.keys(Y).includes(e))return Y[e];throw"Control "+e+" not found"}const K=e=>({item:n})=>{const t=e.split(".");let l=n;for(const e of t)l=l.hasOwnProperty(e)?l[e]:void 0;return l};function Q(e){var n,t,l="";if("string"==typeof e||"number"==typeof e)l+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(n=0;n<i;n++)e[n]&&(t=Q(e[n]))&&(l&&(l+=" "),l+=t)}else for(t in e)e[t]&&(l&&(l+=" "),l+=t);return l}const Z=function(){for(var e,n,t=0,l="",i=arguments.length;t<i;t++)(e=arguments[t])&&(n=Q(e))&&(l&&(l+=" "),l+=n);return l};function ee(e){return void 0!==e.children}function ne({title:e}){return(0,l.jsx)(r.__experimentalVStack,{className:"dataforms-layouts-regular__header",spacing:4,children:(0,l.jsxs)(r.__experimentalHStack,{alignment:"center",children:[(0,l.jsx)(r.__experimentalHeading,{level:2,size:13,children:e}),(0,l.jsx)(r.__experimentalSpacer,{})]})})}const te=(0,l.jsx)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,l.jsx)(t.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})});function le({title:n,onClose:t}){return(0,l.jsx)(r.__experimentalVStack,{className:"dataforms-layouts-panel__dropdown-header",spacing:4,children:(0,l.jsxs)(r.__experimentalHStack,{alignment:"center",children:[n&&(0,l.jsx)(r.__experimentalHeading,{level:2,size:13,children:n}),(0,l.jsx)(r.__experimentalSpacer,{}),t&&(0,l.jsx)(r.Button,{label:(0,e.__)("Close"),icon:te,onClick:t,size:"small"})]})})}function ie({fieldDefinition:n,popoverAnchor:t,labelPosition:i="side",data:a,onChange:s,field:d}){const u=ee(d)?d.label:n?.label,c=(0,o.useMemo)((()=>ee(d)?{type:"regular",fields:d.children.map((e=>"string"==typeof e?{id:e}:e))}:{type:"regular",fields:[{id:d.id}]}),[d]),f=(0,o.useMemo)((()=>({anchor:t,placement:"left-start",offset:36,shift:!0})),[t]);return(0,l.jsx)(r.Dropdown,{contentClassName:"dataforms-layouts-panel__field-dropdown",popoverProps:f,focusOnMount:!0,toggleProps:{size:"compact",variant:"tertiary",tooltipPosition:"middle left"},renderToggle:({isOpen:t,onToggle:o})=>(0,l.jsx)(r.Button,{className:"dataforms-layouts-panel__field-control",size:"compact",variant:["none","top"].includes(i)?"link":"tertiary","aria-expanded":t,"aria-label":(0,e.sprintf)(
// translators: %s: Field name.
// translators: %s: Field name.
(0,e._x)("Edit %s","field"),u||""),onClick:o,disabled:!0===n.readOnly,accessibleWhenDisabled:!0,children:(0,l.jsx)(n.render,{item:a,field:n})}),renderContent:({onClose:e})=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(le,{title:u,onClose:e}),(0,l.jsx)(re,{data:a,form:c,onChange:s,children:(e,n)=>{var t;return(0,l.jsx)(e,{data:a,field:n,onChange:s,hideLabelFromVision:(null!==(t=c?.fields)&&void 0!==t?t:[]).length<2},n.id)}})]})})}const ae=[{type:"regular",component:function({data:e,field:n,onChange:t,hideLabelFromVision:i}){var a;const{fields:s}=(0,o.useContext)(u),d=(0,o.useMemo)((()=>ee(n)?{fields:n.children.map((e=>"string"==typeof e?{id:e}:e)),type:"regular"}:{type:"regular",fields:[]}),[n]);if(ee(n))return(0,l.jsxs)(l.Fragment,{children:[!i&&n.label&&(0,l.jsx)(ne,{title:n.label}),(0,l.jsx)(re,{data:e,form:d,onChange:t})]});const c=null!==(a=n.labelPosition)&&void 0!==a?a:"top",f=s.find((e=>e.id===n.id));return f&&f.Edit?"side"===c?(0,l.jsxs)(r.__experimentalHStack,{className:"dataforms-layouts-regular__field",children:[(0,l.jsx)("div",{className:Z("dataforms-layouts-regular__field-label",`dataforms-layouts-regular__field-label--label-position-${c}`),children:f.label}),(0,l.jsx)("div",{className:"dataforms-layouts-regular__field-control",children:!0===f.readOnly?(0,l.jsx)(f.render,{item:e,field:f}):(0,l.jsx)(f.Edit,{data:e,field:f,onChange:t,hideLabelFromVision:!0},f.id)})]}):(0,l.jsx)("div",{className:"dataforms-layouts-regular__field",children:!0===f.readOnly?(0,l.jsxs)(l.Fragment,{children:[!i&&"none"!==c&&(0,l.jsx)("div",{className:"dataforms-layouts-regular__field-label",children:f.label}),(0,l.jsx)("div",{className:"dataforms-layouts-regular__field-control",children:(0,l.jsx)(f.render,{item:e,field:f})})]}):(0,l.jsx)(f.Edit,{data:e,field:f,onChange:t,hideLabelFromVision:"none"===c||i})}):null}},{type:"panel",component:function({data:e,field:n,onChange:t}){var i;const{fields:a}=(0,o.useContext)(u),s=a.find((e=>{if(ee(n)){const t=n.children.filter((e=>"string"==typeof e||!ee(e))),l="string"==typeof t[0]?t[0]:t[0].id;return e.id===l}return e.id===n.id})),[d,c]=(0,o.useState)(null);if(!s)return null;const f=null!==(i=n.labelPosition)&&void 0!==i?i:"side",m=Z("dataforms-layouts-panel__field-label",`dataforms-layouts-panel__field-label--label-position-${f}`),p=ee(n)?n.label:s?.label;return"top"===f?(0,l.jsxs)(r.__experimentalVStack,{className:"dataforms-layouts-panel__field",spacing:0,children:[(0,l.jsx)("div",{className:m,style:{paddingBottom:0},children:p}),(0,l.jsx)("div",{className:"dataforms-layouts-panel__field-control",children:(0,l.jsx)(ie,{field:n,popoverAnchor:d,fieldDefinition:s,data:e,onChange:t,labelPosition:f})})]}):"none"===f?(0,l.jsx)("div",{className:"dataforms-layouts-panel__field",children:(0,l.jsx)(ie,{field:n,popoverAnchor:d,fieldDefinition:s,data:e,onChange:t,labelPosition:f})}):(0,l.jsxs)(r.__experimentalHStack,{ref:c,className:"dataforms-layouts-panel__field",children:[(0,l.jsx)("div",{className:m,children:p}),(0,l.jsx)("div",{className:"dataforms-layouts-panel__field-control",children:(0,l.jsx)(ie,{field:n,popoverAnchor:d,fieldDefinition:s,data:e,onChange:t,labelPosition:f})})]})}}];function re({data:e,form:n,onChange:t,children:i}){const{fields:a}=(0,o.useContext)(u),s=(0,o.useMemo)((()=>function(e){var n,t,l;let i="regular";["regular","panel"].includes(null!==(n=e.type)&&void 0!==n?n:"")&&(i=e.type);const a=null!==(t=e.labelPosition)&&void 0!==t?t:"regular"===i?"top":"side";return(null!==(l=e.fields)&&void 0!==l?l:[]).map((e=>{var n,t;if("string"==typeof e)return{id:e,layout:i,labelPosition:a};const l=null!==(n=e.layout)&&void 0!==n?n:i,r=null!==(t=e.labelPosition)&&void 0!==t?t:"regular"===l?"top":"side";return{...e,layout:l,labelPosition:r}}))}(n)),[n]);return(0,l.jsx)(r.__experimentalVStack,{spacing:"panel"===n?.type?2:4,children:s.map((n=>{const r=(o=n.layout,ae.find((e=>e.type===o)))?.component;var o;if(!r)return null;const s=ee(n)?void 0:function(e){const n="string"==typeof e?e:e.id;return a.find((e=>e.id===n))}(n);return s&&s.isVisible&&!s.isVisible(e)?null:i?i(r,n):(0,l.jsx)(r,{data:e,field:n,onChange:t},n.id)}))})}function oe({data:e,form:n,fields:t,onChange:i}){const a=(0,o.useMemo)((()=>function(e){return e.map((e=>{var n,t,l,i,a,r,o,s;const d="email"===(u=e.type)?T:"integer"===u?A:"text"===u?M:"datetime"===u?z:"date"===u?G:"boolean"===u?U:"media"===u?q:"array"===u?W:{sort:(e,n,t)=>"number"==typeof e&&"number"==typeof n?"asc"===t?e-n:n-e:"asc"===t?e.localeCompare(n):n.localeCompare(e),isValid:(e,n)=>{if(n?.elements){const t=n?.elements?.map((e=>e.value));if(!t.includes(e))return!1}return!0},Edit:null,render:({item:e,field:n})=>n.elements?f({item:e,field:n}):n.getValue({item:e}),enableSorting:!0,filterBy:{defaultOperators:[m,p],validOperators:P}};var u;const c=e.getValue||K(e.id),_=null!==(n=e.sort)&&void 0!==n?n:function(e,n,t){return d.sort(c({item:e}),c({item:n}),t)},g=null!==(t=e.isValid)&&void 0!==t?t:function(e,n){return d.isValid(c({item:e}),n)},h=function(e,n){return"function"==typeof e.Edit?e.Edit:"string"==typeof e.Edit?X(e.Edit):e.elements?X("select"):"string"==typeof n.Edit?X(n.Edit):n.Edit}(e,d),b=null!==(l=e.render)&&void 0!==l?l:function({item:e,field:n}){return d.render({item:e,field:n})},x=function(e,n){if(!1===e.filterBy)return!1;if("object"==typeof e.filterBy){let t=e.filterBy.operators;t&&Array.isArray(t)||(t=n.filterBy?n.filterBy.defaultOperators:[]);let l=P;return"object"==typeof n.filterBy&&(l=n.filterBy.validOperators),t=t.filter((e=>l.includes(e))),e.elements&&t.includes(L)&&(t=t.filter((e=>e!==L))),t.some((e=>H.includes(e)))&&(t=t.filter((e=>[...H,L].includes(e)))),0!==t.length&&{isPrimary:!!e.filterBy.isPrimary,operators:t}}if(!1===n.filterBy)return!1;let t=n.filterBy.defaultOperators;return e.elements&&t.includes(L)&&(t=t.filter((e=>e!==L))),{operators:t}}(e,d);return{...e,label:e.label||e.id,header:e.header||e.label||e.id,getValue:c,render:b,sort:_,isValid:g,Edit:h,enableHiding:null===(i=e.enableHiding)||void 0===i||i,enableSorting:null===(a=null!==(r=e.enableSorting)&&void 0!==r?r:d.enableSorting)||void 0===a||a,filterBy:x,readOnly:null!==(o=null!==(s=e.readOnly)&&void 0!==s?s:d.readOnly)&&void 0!==o&&o}}))}(t)),[t]);return n.fields?(0,l.jsx)(d,{fields:a,children:(0,l.jsx)(re,{data:e,form:n,onChange:i})}):null}const se=JSON.parse('{"UU":"playground-step/set-site-language","DD":"Set Site Language"}');(0,n.registerBlockType)(se.UU,{icon:i,edit:function({attributes:n,setAttributes:t,isSelected:o}){const{language:s}=n;return(0,l.jsx)("p",{...(0,a.useBlockProps)(),children:(0,l.jsx)(r.Placeholder,{preview:(0,l.jsxs)(r.__experimentalVStack,{style:{width:"100%"},children:[(0,l.jsxs)(r.__experimentalHStack,{justify:"left",align:"center",spacing:3,children:[(0,l.jsx)(r.Icon,{icon:i,size:28,className:"step-icon"}),(0,l.jsxs)(r.__experimentalVStack,{spacing:1,children:[(0,l.jsx)(r.__experimentalText,{upperCase:!0,size:12,weight:500,color:"#949494",children:se.DD}),!o&&(0,l.jsxs)(r.__experimentalText,{weight:600,children:[(0,e.__)("to","wp-playground-blueprint-editor")," ",` ${s||(0,e.__)("{language code}","wp-playground-blueprint-editor")}`]})]})]}),o&&(0,l.jsx)(oe,{data:n,fields:[{id:"language",label:(0,e.__)("Language","wp-playground-blueprint-editor"),type:"text",placeholder:(0,e.__)("e.g. 'en_US'","wp-playground-blueprint-editor")}],form:{fields:["language"]},onChange:t})]})})})}})})();