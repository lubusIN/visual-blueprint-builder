(()=>{"use strict";const e=window.wp.i18n,t=window.wp.blocks,n=window.wp.primitives,l=window.ReactJSXRuntime,i=(0,l.jsx)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,l.jsx)(n.Path,{d:"M12 4c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8Zm6.5 8c0 .6 0 1.2-.2 1.8h-2.7c0-.6.2-1.1.2-1.8s0-1.2-.2-1.8h2.7c.2.6.2 1.1.2 1.8Zm-.9-3.2h-2.4c-.3-.9-.7-1.8-1.1-2.4-.1-.2-.2-.4-.3-.5 1.6.5 3 1.6 3.8 3ZM12.8 17c-.3.5-.6 1-.8 1.3-.2-.3-.5-.8-.8-1.3-.3-.5-.6-1.1-.8-1.7h3.3c-.2.6-.5 1.2-.8 1.7Zm-2.9-3.2c-.1-.6-.2-1.1-.2-1.8s0-1.2.2-1.8H14c.1.6.2 1.1.2 1.8s0 1.2-.2 1.8H9.9ZM11.2 7c.3-.5.6-1 .8-1.3.2.3.5.8.8 1.3.3.5.6 1.1.8 1.7h-3.3c.2-.6.5-1.2.8-1.7Zm-1-1.2c-.1.2-.2.3-.3.5-.4.7-.8 1.5-1.1 2.4H6.4c.8-1.4 2.2-2.5 3.8-3Zm-1.8 8H5.7c-.2-.6-.2-1.1-.2-1.8s0-1.2.2-1.8h2.7c0 .6-.2 1.1-.2 1.8s0 1.2.2 1.8Zm-2 1.4h2.4c.3.9.7 1.8 1.1 2.4.1.2.2.4.3.5-1.6-.5-3-1.6-3.8-3Zm7.4 3c.1-.2.2-.3.3-.5.4-.7.8-1.5 1.1-2.4h2.4c-.8 1.4-2.2 2.5-3.8 3Z"})}),a=window.wp.blockEditor,r=window.wp.components,o=window.wp.element,s=(0,o.createContext)({fields:[]});function d({fields:e,children:t}){return(0,l.jsx)(s.Provider,{value:{fields:e},children:t})}const u=s,c=window.wp.url;function m({item:e,field:t}){const n=t.getValue({item:e});return t?.elements?.find((e=>e.value===n))?.label||t.getValue({item:e})}n.SVG,n.Path,n.SVG,n.Path;const f="is",p="isNot",_="isAny",h="isNone",g="isAll",b="isNotAll",x="lessThan",v="greaterThan",y="lessThanOrEqual",C="greaterThanOrEqual",j="before",V="after",w="beforeInc",S="afterInc",N="contains",B="notContains",k="startsWith",L="between",O="on",F="notOn",D="inThePast",E="over",P=[f,p,_,h,g,b,x,v,y,C,j,V,w,S,N,B,k,L,O,F,D,E],H=[f,p,x,v,y,C,j,V,w,S,N,B,k,O,F];(0,e.__)("Is"),(0,e.__)("Is not"),(0,e.__)("Is any"),(0,e.__)("Is none"),(0,e.__)("Is all"),(0,e.__)("Is not all"),(0,e.__)("Less than"),(0,e.__)("Greater than"),(0,e.__)("Less than or equal"),(0,e.__)("Greater than or equal"),(0,e.__)("Before"),(0,e.__)("After"),(0,e.__)("Before (inc)"),(0,e.__)("After (inc)"),(0,e.__)("Contains"),(0,e.__)("Doesn't contain"),(0,e.__)("Starts with"),(0,e.__)("Between (inc)"),(0,e.__)("On"),(0,e.__)("Not on"),(0,e.__)("In the past"),(0,e.__)("Over"),(0,e.__)("Sort ascending"),(0,e.__)("Sort descending");const M={sort:function(e,t,n){return"asc"===n?e.localeCompare(t):t.localeCompare(e)},isValid:function(e,t){if(""===e)return!1;if(!(0,c.isEmail)(e))return!1;if(t?.elements){const n=t?.elements?.map((e=>e.value));if(!n.includes(e))return!1}return!0},Edit:"email",render:({item:e,field:t})=>t.elements?m({item:e,field:t}):t.getValue({item:e}),enableSorting:!0,filterBy:{defaultOperators:[_,h],validOperators:[f,p,N,B,k,_,h,g,b]}},T={sort:function(e,t,n){return"asc"===n?e-t:t-e},isValid:function(e,t){if(""===e)return!1;if(!Number.isInteger(Number(e)))return!1;if(t?.elements){const n=t?.elements.map((e=>e.value));if(!n.includes(Number(e)))return!1}return!0},Edit:"integer",render:({item:e,field:t})=>t.elements?m({item:e,field:t}):t.getValue({item:e}),enableSorting:!0,filterBy:{defaultOperators:[f,p,x,v,y,C,L],validOperators:[f,p,x,v,y,C,L,_,h,g,b]}},A={sort:function(e,t,n){return"asc"===n?e.localeCompare(t):t.localeCompare(e)},isValid:function(e,t){if(t?.elements){const n=t?.elements?.map((e=>e.value));if(!n.includes(e))return!1}return!0},Edit:"text",render:({item:e,field:t})=>t.elements?m({item:e,field:t}):t.getValue({item:e}),enableSorting:!0,filterBy:{defaultOperators:[_,h],validOperators:[f,p,N,B,k,_,h,g,b]}},z={sort:function(e,t,n){const l=new Date(e).getTime(),i=new Date(t).getTime();return"asc"===n?l-i:i-l},isValid:function(e,t){if(t?.elements){const n=t?.elements.map((e=>e.value));if(!n.includes(e))return!1}return!0},Edit:"datetime",render:({item:e,field:t})=>t.elements?m({item:e,field:t}):t.getValue({item:e}),enableSorting:!0,filterBy:{defaultOperators:[O,F,j,V,w,S,D,E],validOperators:[O,F,j,V,w,S,D,E]}},I=window.wp.date,U={sort:function(e,t,n){const l=new Date(e).getTime(),i=new Date(t).getTime();return"asc"===n?l-i:i-l},isValid:function(e,t){if(t?.elements){const n=t?.elements.map((e=>e.value));if(!n.includes(e))return!1}return!0},Edit:null,render:({item:e,field:t})=>{if(t.elements)return m({item:e,field:t});const n=t.getValue({item:e});return n?(l=n,(0,I.dateI18n)((0,I.getSettings)().formats.date,(0,I.getDate)(l))):"";var l},enableSorting:!0,filterBy:!1},Z={sort:function(e,t,n){const l=Boolean(e);return l===Boolean(t)?0:"asc"===n?l?1:-1:l?-1:1},isValid:function(e){return!![!0,!1,void 0].includes(e)},Edit:"boolean",render:({item:t,field:n})=>n.elements?m({item:t,field:n}):!0===n.getValue({item:t})?(0,e.__)("True"):!1===n.getValue({item:t})?(0,e.__)("False"):null,enableSorting:!0,filterBy:{defaultOperators:[f,p],validOperators:[f,p]}},G={sort:function(){return 0},isValid:function(e,t){if(t?.elements){const n=t?.elements.map((e=>e.value));if(!n.includes(e))return!1}return!0},Edit:null,render:()=>null,enableSorting:!1,filterBy:!1},q={sort:function(e,t,n){const l=Array.isArray(e)?e:[],i=Array.isArray(t)?t:[];if(l.length!==i.length)return"asc"===n?l.length-i.length:i.length-l.length;const a=l.join(","),r=i.join(",");return"asc"===n?a.localeCompare(r):r.localeCompare(a)},isValid:function(e,t){if(!Array.isArray(e))return!1;if(!e.every((e=>"string"==typeof e)))return!1;if(t?.elements){const n=t.elements.map((e=>e.value));if(!e.every((e=>n.includes(e))))return!1}return!0},Edit:null,render:function({item:e,field:t}){return(t.getValue({item:e})||[]).join(", ")},enableSorting:!0,filterBy:{defaultOperators:[_,h],validOperators:[_,h,g,b]}},W={[D]:[{value:"days",label:(0,e.__)("Days")},{value:"weeks",label:(0,e.__)("Weeks")},{value:"months",label:(0,e.__)("Months")},{value:"years",label:(0,e.__)("Years")}],[E]:[{value:"days",label:(0,e.__)("Days ago")},{value:"weeks",label:(0,e.__)("Weeks ago")},{value:"months",label:(0,e.__)("Months ago")},{value:"years",label:(0,e.__)("Years ago")}]};function R({id:t,value:n,onChange:i,label:a,hideLabelFromVision:s,options:d}){const{value:u="",unit:c=d[0].value}=n,m=(0,o.useCallback)((e=>i({[t]:{value:Number(e),unit:c}})),[t,i,c]),f=(0,o.useCallback)((e=>i({[t]:{value:u,unit:e}})),[t,i,u]);return(0,l.jsx)(r.BaseControl,{id:t,__nextHasNoMarginBottom:!0,className:"dataviews-controls__datetime",label:a,hideLabelFromVision:s,children:(0,l.jsxs)(r.__experimentalHStack,{spacing:2.5,children:[(0,l.jsx)(r.__experimentalNumberControl,{__next40pxDefaultSize:!0,className:"dataviews-controls__datetime-number",spinControls:"none",min:1,step:1,value:u,onChange:m}),(0,l.jsx)(r.SelectControl,{className:"dataviews-controls__datetime-unit",__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:(0,e.__)("Unit"),value:c,options:d,onChange:f,hideLabelFromVision:!0})]})})}function $({id:t,value:n,onChange:i,hideLabelFromVision:a}){const[s="",d=""]=Array.isArray(n)?n:[],u=(0,o.useCallback)((e=>i({[t]:[Number(e),d]})),[t,i,d]),c=(0,o.useCallback)((e=>i({[t]:[s,Number(e)]})),[t,i,s]);return(0,l.jsx)(r.BaseControl,{__nextHasNoMarginBottom:!0,help:(0,e.__)("The max. value must be greater than the min. value."),children:(0,l.jsxs)(r.Flex,{direction:"row",gap:4,children:[(0,l.jsx)(r.__experimentalNumberControl,{label:(0,e.__)("Min."),value:s,max:d?Number(d)-1:void 0,onChange:u,__next40pxDefaultSize:!0,hideLabelFromVision:a}),(0,l.jsx)(r.__experimentalNumberControl,{label:(0,e.__)("Max."),value:d,min:s?Number(s)+1:void 0,onChange:c,__next40pxDefaultSize:!0,hideLabelFromVision:a})]})})}const J={boolean:function({field:e,onChange:t,data:n,hideLabelFromVision:i}){const{id:a,getValue:o,label:s}=e;return(0,l.jsx)(r.ToggleControl,{hidden:i,__nextHasNoMarginBottom:!0,label:s,checked:o({item:n}),onChange:()=>t({[a]:!o({item:n})})})},checkbox:function({field:e,onChange:t,data:n,hideLabelFromVision:i}){const{id:a,getValue:o,label:s,description:d}=e;return(0,l.jsx)(r.CheckboxControl,{__nextHasNoMarginBottom:!0,hidden:i,label:s,help:d,checked:o({item:n}),onChange:()=>t({[a]:!o({item:n})})})},datetime:function({data:e,field:t,onChange:n,hideLabelFromVision:i,operator:a}){const{id:s,label:d}=t,u=t.getValue({item:e}),c=(0,o.useCallback)((e=>n({[s]:e})),[s,n]);return a===D||a===E?(0,l.jsx)(R,{id:s,value:u&&"object"==typeof u?u:{},onChange:n,label:d,hideLabelFromVision:i,options:W[a]}):(0,l.jsxs)("fieldset",{className:"dataviews-controls__datetime",children:[!i&&(0,l.jsx)(r.BaseControl.VisualLabel,{as:"legend",children:d}),i&&(0,l.jsx)(r.VisuallyHidden,{as:"legend",children:d}),(0,l.jsx)(r.TimePicker,{currentTime:"string"==typeof u?u:void 0,onChange:c,hideLabelFromVision:!0})]})},email:function({data:e,field:t,onChange:n,hideLabelFromVision:i}){const{id:a,label:s,placeholder:d,description:u}=t,c=t.getValue({item:e}),m=(0,o.useCallback)((e=>n({[a]:e})),[a,n]);return(0,l.jsx)(r.TextControl,{type:"email",label:s,placeholder:d,value:null!=c?c:"",help:u,onChange:m,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,hideLabelFromVision:i})},integer:function({data:e,field:t,onChange:n,hideLabelFromVision:i,operator:a}){var s;const{id:d,label:u,description:c}=t,m=null!==(s=t.getValue({item:e}))&&void 0!==s?s:"",f=(0,o.useCallback)((e=>n({[d]:Number(e)})),[d,n]);return a===L?(0,l.jsx)($,{id:d,value:m,onChange:n,hideLabelFromVision:i}):(0,l.jsx)(r.__experimentalNumberControl,{label:u,help:c,value:m,onChange:f,__next40pxDefaultSize:!0,hideLabelFromVision:i})},radio:function({data:e,field:t,onChange:n,hideLabelFromVision:i}){const{id:a,label:s}=t,d=t.getValue({item:e}),u=(0,o.useCallback)((e=>n({[a]:e})),[a,n]);return t.elements?(0,l.jsx)(r.RadioControl,{label:s,onChange:u,options:t.elements,selected:d,hideLabelFromVision:i}):null},select:function({data:t,field:n,onChange:i,hideLabelFromVision:a}){var s,d;const{id:u,label:c}=n,m=null!==(s=n.getValue({item:t}))&&void 0!==s?s:"",f=(0,o.useCallback)((e=>i({[u]:e})),[u,i]),p=[{label:(0,e.__)("Select item"),value:""},...null!==(d=n?.elements)&&void 0!==d?d:[]];return(0,l.jsx)(r.SelectControl,{label:c,value:m,help:n.description,options:p,onChange:f,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,hideLabelFromVision:a})},text:function({data:e,field:t,onChange:n,hideLabelFromVision:i}){const{id:a,label:s,placeholder:d,description:u}=t,c=t.getValue({item:e}),m=(0,o.useCallback)((e=>n({[a]:e})),[a,n]);return(0,l.jsx)(r.TextControl,{label:s,placeholder:d,value:null!=c?c:"",help:u,onChange:m,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,hideLabelFromVision:i})},toggleGroup:function({data:e,field:t,onChange:n,hideLabelFromVision:i}){const{id:a}=t,s=t.getValue({item:e}),d=(0,o.useCallback)((e=>n({[a]:e})),[a,n]);if(t.elements){const e=t.elements.find((e=>e.value===s));return(0,l.jsx)(r.__experimentalToggleGroupControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,isBlock:!0,label:t.label,help:e?.description||t.description,onChange:d,value:s,hideLabelFromVision:i,children:t.elements.map((e=>(0,l.jsx)(r.__experimentalToggleGroupControlOption,{label:e.label,value:e.value},e.value)))})}return null}};function Y(e){if(Object.keys(J).includes(e))return J[e];throw"Control "+e+" not found"}const X=e=>({item:t})=>{const n=e.split(".");let l=t;for(const e of n)l=l.hasOwnProperty(e)?l[e]:void 0;return l};function K(e){var t,n,l="";if("string"==typeof e||"number"==typeof e)l+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=K(e[t]))&&(l&&(l+=" "),l+=n)}else for(n in e)e[n]&&(l&&(l+=" "),l+=n);return l}const Q=function(){for(var e,t,n=0,l="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=K(e))&&(l&&(l+=" "),l+=t);return l};function ee(e){return void 0!==e.children}function te({title:e}){return(0,l.jsx)(r.__experimentalVStack,{className:"dataforms-layouts-regular__header",spacing:4,children:(0,l.jsxs)(r.__experimentalHStack,{alignment:"center",children:[(0,l.jsx)(r.__experimentalHeading,{level:2,size:13,children:e}),(0,l.jsx)(r.__experimentalSpacer,{})]})})}const ne=(0,l.jsx)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,l.jsx)(n.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})});function le({title:t,onClose:n}){return(0,l.jsx)(r.__experimentalVStack,{className:"dataforms-layouts-panel__dropdown-header",spacing:4,children:(0,l.jsxs)(r.__experimentalHStack,{alignment:"center",children:[t&&(0,l.jsx)(r.__experimentalHeading,{level:2,size:13,children:t}),(0,l.jsx)(r.__experimentalSpacer,{}),n&&(0,l.jsx)(r.Button,{label:(0,e.__)("Close"),icon:ne,onClick:n,size:"small"})]})})}function ie({fieldDefinition:t,popoverAnchor:n,labelPosition:i="side",data:a,onChange:s,field:d}){const u=ee(d)?d.label:t?.label,c=(0,o.useMemo)((()=>ee(d)?{type:"regular",fields:d.children.map((e=>"string"==typeof e?{id:e}:e))}:{type:"regular",fields:[{id:d.id}]}),[d]),m=(0,o.useMemo)((()=>({anchor:n,placement:"left-start",offset:36,shift:!0})),[n]);return(0,l.jsx)(r.Dropdown,{contentClassName:"dataforms-layouts-panel__field-dropdown",popoverProps:m,focusOnMount:!0,toggleProps:{size:"compact",variant:"tertiary",tooltipPosition:"middle left"},renderToggle:({isOpen:n,onToggle:o})=>(0,l.jsx)(r.Button,{className:"dataforms-layouts-panel__field-control",size:"compact",variant:["none","top"].includes(i)?"link":"tertiary","aria-expanded":n,"aria-label":(0,e.sprintf)(
// translators: %s: Field name.
// translators: %s: Field name.
(0,e._x)("Edit %s","field"),u||""),onClick:o,disabled:!0===t.readOnly,accessibleWhenDisabled:!0,children:(0,l.jsx)(t.render,{item:a,field:t})}),renderContent:({onClose:e})=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(le,{title:u,onClose:e}),(0,l.jsx)(re,{data:a,form:c,onChange:s,children:(e,t)=>{var n;return(0,l.jsx)(e,{data:a,field:t,onChange:s,hideLabelFromVision:(null!==(n=c?.fields)&&void 0!==n?n:[]).length<2},t.id)}})]})})}const ae=[{type:"regular",component:function({data:e,field:t,onChange:n,hideLabelFromVision:i}){var a;const{fields:s}=(0,o.useContext)(u),d=(0,o.useMemo)((()=>ee(t)?{fields:t.children.map((e=>"string"==typeof e?{id:e}:e)),type:"regular"}:{type:"regular",fields:[]}),[t]);if(ee(t))return(0,l.jsxs)(l.Fragment,{children:[!i&&t.label&&(0,l.jsx)(te,{title:t.label}),(0,l.jsx)(re,{data:e,form:d,onChange:n})]});const c=null!==(a=t.labelPosition)&&void 0!==a?a:"top",m=s.find((e=>e.id===t.id));return m&&m.Edit?"side"===c?(0,l.jsxs)(r.__experimentalHStack,{className:"dataforms-layouts-regular__field",children:[(0,l.jsx)("div",{className:Q("dataforms-layouts-regular__field-label",`dataforms-layouts-regular__field-label--label-position-${c}`),children:m.label}),(0,l.jsx)("div",{className:"dataforms-layouts-regular__field-control",children:!0===m.readOnly?(0,l.jsx)(m.render,{item:e,field:m}):(0,l.jsx)(m.Edit,{data:e,field:m,onChange:n,hideLabelFromVision:!0},m.id)})]}):(0,l.jsx)("div",{className:"dataforms-layouts-regular__field",children:!0===m.readOnly?(0,l.jsxs)(l.Fragment,{children:[!i&&"none"!==c&&(0,l.jsx)("div",{className:"dataforms-layouts-regular__field-label",children:m.label}),(0,l.jsx)("div",{className:"dataforms-layouts-regular__field-control",children:(0,l.jsx)(m.render,{item:e,field:m})})]}):(0,l.jsx)(m.Edit,{data:e,field:m,onChange:n,hideLabelFromVision:"none"===c||i})}):null}},{type:"panel",component:function({data:e,field:t,onChange:n}){var i;const{fields:a}=(0,o.useContext)(u),s=a.find((e=>{if(ee(t)){const n=t.children.filter((e=>"string"==typeof e||!ee(e))),l="string"==typeof n[0]?n[0]:n[0].id;return e.id===l}return e.id===t.id})),[d,c]=(0,o.useState)(null);if(!s)return null;const m=null!==(i=t.labelPosition)&&void 0!==i?i:"side",f=Q("dataforms-layouts-panel__field-label",`dataforms-layouts-panel__field-label--label-position-${m}`),p=ee(t)?t.label:s?.label;return"top"===m?(0,l.jsxs)(r.__experimentalVStack,{className:"dataforms-layouts-panel__field",spacing:0,children:[(0,l.jsx)("div",{className:f,style:{paddingBottom:0},children:p}),(0,l.jsx)("div",{className:"dataforms-layouts-panel__field-control",children:(0,l.jsx)(ie,{field:t,popoverAnchor:d,fieldDefinition:s,data:e,onChange:n,labelPosition:m})})]}):"none"===m?(0,l.jsx)("div",{className:"dataforms-layouts-panel__field",children:(0,l.jsx)(ie,{field:t,popoverAnchor:d,fieldDefinition:s,data:e,onChange:n,labelPosition:m})}):(0,l.jsxs)(r.__experimentalHStack,{ref:c,className:"dataforms-layouts-panel__field",children:[(0,l.jsx)("div",{className:f,children:p}),(0,l.jsx)("div",{className:"dataforms-layouts-panel__field-control",children:(0,l.jsx)(ie,{field:t,popoverAnchor:d,fieldDefinition:s,data:e,onChange:n,labelPosition:m})})]})}}];function re({data:e,form:t,onChange:n,children:i}){const{fields:a}=(0,o.useContext)(u),s=(0,o.useMemo)((()=>function(e){var t,n,l;let i="regular";["regular","panel"].includes(null!==(t=e.type)&&void 0!==t?t:"")&&(i=e.type);const a=null!==(n=e.labelPosition)&&void 0!==n?n:"regular"===i?"top":"side";return(null!==(l=e.fields)&&void 0!==l?l:[]).map((e=>{var t,n;if("string"==typeof e)return{id:e,layout:i,labelPosition:a};const l=null!==(t=e.layout)&&void 0!==t?t:i,r=null!==(n=e.labelPosition)&&void 0!==n?n:"regular"===l?"top":"side";return{...e,layout:l,labelPosition:r}}))}(t)),[t]);return(0,l.jsx)(r.__experimentalVStack,{spacing:"panel"===t?.type?2:4,children:s.map((t=>{const r=(o=t.layout,ae.find((e=>e.type===o)))?.component;var o;if(!r)return null;const s=ee(t)?void 0:function(e){const t="string"==typeof e?e:e.id;return a.find((e=>e.id===t))}(t);return s&&s.isVisible&&!s.isVisible(e)?null:i?i(r,t):(0,l.jsx)(r,{data:e,field:t,onChange:n},t.id)}))})}function oe({data:e,form:t,fields:n,onChange:i}){const a=(0,o.useMemo)((()=>function(e){return e.map((e=>{var t,n,l,i,a,r,o,s;const d="email"===(u=e.type)?M:"integer"===u?T:"text"===u?A:"datetime"===u?z:"date"===u?U:"boolean"===u?Z:"media"===u?G:"array"===u?q:{sort:(e,t,n)=>"number"==typeof e&&"number"==typeof t?"asc"===n?e-t:t-e:"asc"===n?e.localeCompare(t):t.localeCompare(e),isValid:(e,t)=>{if(t?.elements){const n=t?.elements?.map((e=>e.value));if(!n.includes(e))return!1}return!0},Edit:null,render:({item:e,field:t})=>t.elements?m({item:e,field:t}):t.getValue({item:e}),enableSorting:!0,filterBy:{defaultOperators:[f,p],validOperators:P}};var u;const c=e.getValue||X(e.id),_=null!==(t=e.sort)&&void 0!==t?t:function(e,t,n){return d.sort(c({item:e}),c({item:t}),n)},h=null!==(n=e.isValid)&&void 0!==n?n:function(e,t){return d.isValid(c({item:e}),t)},g=function(e,t){return"function"==typeof e.Edit?e.Edit:"string"==typeof e.Edit?Y(e.Edit):e.elements?Y("select"):"string"==typeof t.Edit?Y(t.Edit):t.Edit}(e,d),b=null!==(l=e.render)&&void 0!==l?l:function({item:e,field:t}){return d.render({item:e,field:t})},x=function(e,t){if(!1===e.filterBy)return!1;if("object"==typeof e.filterBy){let n=e.filterBy.operators;n&&Array.isArray(n)||(n=t.filterBy?t.filterBy.defaultOperators:[]);let l=P;return"object"==typeof t.filterBy&&(l=t.filterBy.validOperators),n=n.filter((e=>l.includes(e))),e.elements&&n.includes(L)&&(n=n.filter((e=>e!==L))),n.some((e=>H.includes(e)))&&(n=n.filter((e=>[...H,L].includes(e)))),0!==n.length&&{isPrimary:!!e.filterBy.isPrimary,operators:n}}if(!1===t.filterBy)return!1;let n=t.filterBy.defaultOperators;return e.elements&&n.includes(L)&&(n=n.filter((e=>e!==L))),{operators:n}}(e,d);return{...e,label:e.label||e.id,header:e.header||e.label||e.id,getValue:c,render:b,sort:_,isValid:h,Edit:g,enableHiding:null===(i=e.enableHiding)||void 0===i||i,enableSorting:null===(a=null!==(r=e.enableSorting)&&void 0!==r?r:d.enableSorting)||void 0===a||a,filterBy:x,readOnly:null!==(o=null!==(s=e.readOnly)&&void 0!==s?s:d.readOnly)&&void 0!==o&&o}}))}(n)),[n]);return t.fields?(0,l.jsx)(d,{fields:a,children:(0,l.jsx)(re,{data:e,form:t,onChange:i})}):null}const se=JSON.parse('{"UU":"playground-step/define-site-url","DD":"Define Site Url"}');(0,t.registerBlockType)(se.UU,{icon:i,edit:function({attributes:t,setAttributes:n,isSelected:o}){const{siteUrl:s}=t;return(0,l.jsx)("p",{...(0,a.useBlockProps)(),children:(0,l.jsx)(r.Placeholder,{preview:(0,l.jsxs)(r.__experimentalVStack,{style:{width:"100%"},children:[(0,l.jsxs)(r.__experimentalHStack,{justify:"left",align:"center",spacing:3,children:[(0,l.jsx)(r.Icon,{icon:i,size:28,className:"step-icon"}),(0,l.jsxs)(r.__experimentalVStack,{spacing:1,children:[(0,l.jsx)(r.__experimentalText,{upperCase:!0,size:12,weight:500,color:"#949494",children:se.DD}),!o&&(0,l.jsx)(r.__experimentalText,{weight:600,children:`${s||(0,e.__)("Site Url","wp-playground-blueprint-editor")}`})]})]}),o&&(0,l.jsx)(oe,{data:t,fields:[{id:"siteUrl",label:(0,e.__)("Site Url","wp-playground-blueprint-editor"),type:"text",placeholder:(0,e.__)("e.g., https://example.com","wp-playground-blueprint-editor")}],form:{fields:["siteUrl"]},onChange:n})]})})})}})})();